/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e,n,r,o={316:(t,e,n)=>{n.r(e),n.d(e,{ProductDetail:()=>c,card:()=>a,cartItem:()=>l,cartModal:()=>s,checkout:()=>u,nav:()=>i,orderSummary:()=>d});var r=n(502);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t){return' <div class="col mb-5">\n  <div class="card h-100">\n      \x3c!-- Sale badge--\x3e\n      <div class="badge bg-dark text-white position-absolute" style="top: 0.5rem; right: 0.5rem">Sale</div>\n      \x3c!-- Product image--\x3e\n      <div style="%">\n      <img class="card-img-top" src="'.concat(t.image_url,'" alt="..." style="object-fit:cover;overflow:hidden;height:250px"/>\n      </div>\n      \x3c!-- Product details--\x3e\n      <div class="card-body p-4" style="height:40%">\n          <div class="text-center">\n              \x3c!-- Product name--\x3e\n              <h5 class="fw-bolder">').concat(t.name,'</h5>\n              \x3c!-- Product reviews--\x3e\n              <div class="d-flex justify-content-center small text-warning mb-2">\n                  <div class="bi-star-fill"></div>\n                  <div class="bi-star-fill"></div>\n                  <div class="bi-star-fill"></div>\n                  <div class="bi-star-fill"></div>\n                  <div class="bi-star"></div>\n              </div>\n              \x3c!-- Product price--\x3e\n              <span class="text-muted text-decoration-line-through">NRs ').concat(t.price+100,"</span>\n              ").concat(t.price,'\n          </div>\n      </div>\n      \x3c!-- Product actions--\x3e\n      <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">\n          <div class="text-center">\n          <span class= "product-id" style = "display:none">').concat(t.id,'</span>\n          <button data-product-id = "').concat(t.id,'" class="view-item btn btn-outline-dark my-1" >View</button>\n          <button data-product-id = "').concat(t.id,'" class="add-to-cart btn btn-outline-dark my-1">Add to cart</button>\n          </div>\n      </div>\n      </div>\n  </div>\n</div>')}function i(t,e){sessionStorage.setItem("template",t);var n=sessionStorage.getItem("username"),o=r.Ri("access_token");return'<div class="container px-4 px-lg-5">\n  <a class="navbar-brand" href="index.html">Start Bootstrap</a>\n  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>\n  <div class="collapse navbar-collapse" id="navbarSupportedContent">\n      <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">\n          <li class="nav-item"><a class="nav-link active" aria-current="page" href="#!">Home</a></li>\n          <li class="nav-item"><a class="nav-link" href="#!">About</a></li>\n          <li class="nav-item dropdown">\n              <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Shop</a>\n              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">\n                  <li><a class="dropdown-item" href="#!">All Products</a></li>\n                  <li><hr class="dropdown-divider" /></li>\n                  <li><a class="dropdown-item" href="#!">Popular Items</a></li>\n                  <li><a class="dropdown-item" href="#!">New Arrivals</a></li>\n              </ul>\n          </li>\n      </ul>\n      <div class="d-flex">\n          <button class="btn btn-outline-dark" data-toggle="modal" data-target="#cartModal" >\n              <i class="bi-cart-fill me-1"></i>\n              Cart\n              <span class="badge bg-dark text-white ms-1 rounded-pill">'.concat(e,'</span>\n          </button>\n          <form class = "d-flex" method = "get" id = "form-search"><input id = \'search-text\'class="form-control mx-2" type="search" placeholder="Search" aria-label="Search">\n              <button id =  type = "submit" class="btn btn-outline-dark" >Search</button>\n            </form>\n            \n      </div>\n      <a href="login.html" class="btn btn-outline-dark m-2" type="submit" style = "display:').concat(o&&n?"none":"inline",'">Login</a>\n      <span class = "m-2" style = "display:').concat(o&&n?"inline":"none",'">Hello ').concat(n,' !</span>\n        <a  id = "logout" href="index.html" class="btn btn-outline-dark m-2" type="submit" style = "display:').concat(o&&n?"inline":"none",'">Logout</a>\n  </div>\n</div>')}function c(t){return t=JSON.parse(t),'<div class="col-md-6"><img class="card-img-top mb-5 mb-md-0" src="'.concat(t.image_url,'" alt="..." /></div>\n    <div class="col-md-6">\n        <div class="small mb-1">').concat(t.batch_id,":").concat(t.product_id,'</div>\n        <h1 class="display-5 fw-bolder">').concat(t.name,'</h1>\n        <div class="fs-5 mb-5">\n            <span class="text-decoration-line-through">NRs').concat(t.price+100,"</span>\n            <span>NRs").concat(t.price,'</span>\n        </div>\n        <p class="lead">Lorem ipsum dolor sit amet consectetur adipisicing elit. Praesentium at dolorem quidem modi. Nam sequi consequatur obcaecati excepturi alias magni, accusamus eius blanditiis delectus ipsam minima ea iste laborum vero?</p>\n        <div class="d-flex">\n            <input class="form-control text-center me-3" id="inputQuantity" type="num" value="1" style="max-width: 3rem" />\n            <a  href="#" data-product-id = "').concat(t.id,'" id = "').concat(t.id,'"class="add-to-cart btn btn-outline-dark flex-shrink-0" type="button">\n                <i class="bi-cart-fill me-1"></i>\n                Add to cart\n            </a>\n        </div>\n    </div>')}function s(){return'<div class="modal fade" id="cartModal"  role="dialog" aria-labelledby="cartModalLabel" >\n    <div class="modal-dialog" role="document">\n      <div class="modal-content">\n        <div class="modal-header">\n          <h5 class="modal-title" id="cartModalLabel">Modal title</h5>\n          <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n          </button>\n        </div>\n        <div class="modal-body">\n        <ul id = "cart-modal-list" class="list-group">\n        </ul>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n          <a href = "checkout.html" type="button" class="btn btn-primary">Check Out</a>\n        </div>\n      </div>\n    </div>\n  </div>'}function l(t){return'<li class="list-group-item d-flex justify-content-between align-items-center">\n    <div>\n      <img src ="'.concat(t.product.image_url,'" height="10%" width="10%"><span class = "mx-2">').concat(t.product.name,'</sapn>\n      </div>\n      <span class="badge bg-dark badge-pill">').concat(t.quantity,"</span>\n    \n    </li>")}function u(t){for(var e=t.product.quantity,n="",r=1;r<=e;r++)n+='<option value="'.concat(r,'" ').concat(r===t.quantity?"selected":"",">").concat(r,"</option>");return'<div id = "checkout-'.concat(t.id,'"class="card border shadow-none">\n  <div class="card-body">\n  <div class="d-flex align-items-start border-bottom pb-3">\n  <div class="me-4">\n  <img src="').concat(t.product.image_url,'"style="object-fit:cover;" alt class="avatar-lg rounded">\n  </div>\n  <div class="flex-grow-1 align-self-center overflow-hidden">\n  <div>\n  <h5 class="text-truncate font-size-18"><a href="#" data-product-id="').concat(t.product.id,'" class="text-dark product-name">').concat(t.product.name,'</a></h5>\n  <p class="text-muted mb-0">\n  <i class="bx bxs-star text-warning"></i>\n  <i class="bx bxs-star text-warning"></i>\n  <i class="bx bxs-star text-warning"></i>\n  <i class="bx bxs-star text-warning"></i>\n  <i class="bx bxs-star-half text-warning"></i>\n  </p>\n  <p class="mb-0 mt-1">Color : <span class="fw-medium">Gray</span></p>\n  </div>\n  </div>\n  <div class="flex-shrink-0 ms-2">\n  <ul class="list-inline mb-0 font-size-16">\n  <li class="list-inline-item">\n  <a  href="#" class="text-muted px-1">\n  <i data-product-id = "').concat(t.id,'" class="bi bi-trash remove-item"></i>\n  </a>\n  </li>\n  </ul>\n  </div>\n  </div>\n  <div>\n  <div class="row">\n  <div class="col-md-4">\n  <div class="mt-3">\n  <p class="text-muted mb-2">Price</p>\n  <h5 class="mb-0 mt-2"><span class="text-muted me-2"><del class="font-size-16 fw-normal">Nrs ').concat(t.product.price+100,"</del></span>Nrs ").concat(t.product.price,'</h5>\n  </div>\n  </div>\n  <div class="col-md-5">\n  <div class="mt-3">\n  <p class="text-muted mb-2">Quantity</p>\n  <div class="d-inline-flex">\n  <select class="form-select form-select-sm w-xl">\n  ').concat(n,'\n  </select>\n  </div>\n  </div>\n  </div>\n  <div class="col-md-3">\n  <div class="mt-3">\n  <p class="text-muted mb-2">Total</p>\n  <h5>Nrs ').concat(t.quantity*t.product.price,"</h5>\n  </div>\n  </div>\n  </div>\n  </div>\n  </div>\n  </div>")}function d(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=document.createElement("div"),r=0,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;r+=i.quantity*i.product.price}}catch(t){a.e(t)}finally{a.f()}r=Math.round(1e3*r)/1e3;var c=Math.round(1300*r)/1e4,s='<div class="mt-5 mt-lg-0">\n  <div class="card border shadow-none">\n      <div class="card-header bg-transparent border-bottom py-3 px-4">\n          <h5 class="font-size-16 mb-0">Order Summary\n          </h5>\n      </div>\n  <div class="card-body p-4 pt-2">\n      <div class="table-responsive">\n          <table class="table mb-0">\n              <tbody>\n                  <tr>\n                      <td>Sub Total :</td>\n                      <td class="text-end">Nrs '.concat(r,'</td>\n                  </tr>\n                  <tr>\n                      <td>Discount : </td>\n                      <td class="text-end">- $ 78</td>\n                  </tr>\n                  <tr>\n                      <td>Shipping Charge :</td>\n                      <td class="text-end">$ 25</td>\n                  </tr>\n                  <tr>\n                      <td>Estimated Tax : </td>\n                      <td class="text-end">Nrs ').concat(c,' </td>\n                  </tr>\n                  <tr class="bg-light">\n                      <th>Total :</th>\n                      <td class="text-end"><span class="fw-bold">Nrs ').concat(r+c,"</span>\n                      </td>\n                  </tr>\n              </tbody>\n          </table>\n      </div>\n\n  </div>\n</div>");return n.innerHTML=s,n.firstChild}},502:(t,e,n)=>{n.d(e,{Ee:()=>r,GO:()=>o,Ri:()=>c,TV:()=>i,rq:()=>a});var r="https://college-project-ecom.onrender.com/api/shop/products/",o="https://college-project-ecom.onrender.com/api/shop/cart/",a="https://college-project-ecom.onrender.com/api/verify/";function i(t,e,n){var r="";if(n)r="; expires="+new Date(n).toUTCString();else{var o=new Date;o.setTime(o.getTime()+36e5),r="; expires="+o.toUTCString()}document.cookie=t+"="+(e||"")+r+"; path=/"}function c(t){for(var e=t+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return null}},19:(t,e,n)=>{n.a(t,(async(t,e)=>{try{var r=n(502),o=n(316),a=n(417);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function d(){d=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),c=new P(r||[]);return o(i,"_invoke",{value:j(t,n,c)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",y="completed",b={};function g(){}function x(){}function w(){}var E={};l(E,i,(function(){return this}));var k=Object.getPrototypeOf,L=k&&k(k(A([])));L&&L!==n&&r.call(L,i)&&(E=L);var S=w.prototype=g.prototype=Object.create(E);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,a,i,c){var s=p(t[o],t,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==u(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(d).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function j(e,n,r){var o=h;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=O(c,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=p(e,n,r);if("normal"===l.type){if(o=r.done?y:v,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=p(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(u(e)+" is not iterable")}return x.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=l(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,s,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(T.prototype),l(T.prototype,c,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new T(f(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(S),l(S,s,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function f(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){f(a,r,o,i,c,"next",t)}function c(t){f(a,r,o,i,c,"throw",t)}i(void 0)}))}}var i=await(0,a.MX)();await(0,a.Kq)();var c=await(0,a.Xl)(!0),s=1,l=document.getElementsByTagName("nav")[0];l.innerHTML=o.nav("index.html",c),i&&await(0,a.NL)(l),document.getElementById("previous-button").addEventListener("click",p(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s>1)){t.next=4;break}return s--,t.next=4,(0,a.Kq)(s);case 4:case"end":return t.stop()}}),t)})))),document.getElementById("next-button").addEventListener("click",p(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s++,t.next=3,(0,a.Kq)(s);case 3:case"end":return t.stop()}}),t)})))),document.getElementById("form-search").addEventListener("submit",function(){var t=p(d().mark((function t(e){var n,a,i,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e.preventDefault(),t.prev=1,n=document.getElementById("product-display");n.firstChild;)n.removeChild(n.firstChild);return document.getElementById("loader").setAttribute("style","display:block"),a=document.getElementById("search-text").value,console.log(a),t.next=9,fetch(r.Ee+"?search=".concat(a));case 9:if(i=t.sent,console.log("after fetch"),i.ok){t.next=13;break}throw new Error("Network response was not OK");case 13:return t.next=15,i.json();case 15:c=t.sent,document.getElementById("loader").setAttribute("style","display:none"),c.results.forEach((function(t){n.innerHTML+=o.card(t)})),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),alert("There was a problem with your fetch request: "+t.t0);case 23:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}()),document.body.addEventListener("click",function(){var t=p(d().mark((function t(e){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.target.classList.contains("add-to-cart")){t.next=11;break}return e.preventDefault(),n=e.target.getAttribute("data-product-id"),(0,a.bE)(n),t.t0=o,t.next=7,(0,a.Xl)(!0);case 7:return t.t1=t.sent,l.innerHTML=t.t0.nav.call(t.t0,"index.html",t.t1),t.next=11,(0,a.NL)(l);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),document.body.addEventListener("click",function(){var t=p(d().mark((function t(e){var n,o,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.target.classList.contains("view-item")){t.next=11;break}return e.preventDefault(),n=e.target.getAttribute("data-product-id").toString(),t.next=5,fetch(r.Ee+"".concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 5:return o=t.sent,t.next=8,o.json();case 8:i=t.sent,(0,a.Gz)("product",i),window.location.href="detail.html";case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),document.getElementById("logout").addEventListener("click",(function(t){t.preventDefault(),sessionStorage.clear(),document.cookie="access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.href="index.html"})),e()}catch(h){e(h)}}),1)},417:(t,e,n)=>{n.d(e,{Gz:()=>p,Kq:()=>h,MX:()=>d,NL:()=>x,Xl:()=>m,bE:()=>b});var r=n(502),o=n(316);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(){s=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),c=new P(r||[]);return o(i,"_invoke",{value:j(t,n,c)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",y="completed",b={};function g(){}function x(){}function w(){}var E={};d(E,c,(function(){return this}));var k=Object.getPrototypeOf,L=k&&k(k(A([])));L&&L!==n&&r.call(L,c)&&(E=L);var S=w.prototype=g.prototype=Object.create(E);function _(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,c,s){var l=p(t[o],t,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,c,s)}),(function(t){n("throw",t,c,s)})):e.resolve(d).then((function(t){u.value=t,c(u)}),(function(t){return n("throw",t,c,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,n,r){var o=h;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=O(c,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=p(e,n,r);if("normal"===l.type){if(o=r.done?y:v,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=p(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return x.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=d(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,d(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(T.prototype),d(T.prototype,l,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new T(f(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(S),d(S,u,"Generator"),d(S,c,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function l(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){l(a,r,o,i,c,"next",t)}function c(t){l(a,r,o,i,c,"throw",t)}i(void 0)}))}}function d(){return f.apply(this,arguments)}function f(){return(f=u(s().mark((function t(){var e,n,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=r.Ri("access_token"))){t.next=26;break}return t.prev=2,t.next=5,fetch(r.rq,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});case 5:if(!(n=t.sent).ok){t.next=17;break}return t.next=9,n.json();case 9:return o=t.sent,sessionStorage.setItem("username",o.username),sessionStorage.setItem("user_id",o.user_id),r.TV("exp",o.exp,o.exp),r.TV("iat",o.iat,o.exp),t.abrupt("return",!0);case 17:if(401!=n.status){t.next=21;break}return sessionStorage.removeItem("username"),sessionStorage.removeItem("user_id"),t.abrupt("return",!1);case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(2),alert("verify function Error: "+t.t0);case 26:case"end":return t.stop()}}),t,null,[[2,23]])})))).apply(this,arguments)}function p(t,e){localStorage.setItem(t,JSON.stringify(e))}function h(){return v.apply(this,arguments)}function v(){return v=u(s().mark((function t(){var e,n,a,i,c=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:1,n=document.getElementById("product-display"),document.getElementById("loader").setAttribute("style","display:inline-block"),n.innerHTML="",t.prev=5,t.next=8,fetch(r.Ee+"?page=".concat(e));case 8:if((a=t.sent).ok){t.next=11;break}throw new Error("Network response was not OK");case 11:return document.getElementById("loader").setAttribute("style","display:none"),t.next=14,a.json();case 14:i=t.sent,console.log(i),i.results.forEach((function(t){var e=o.card(t);n.innerHTML+=e})),i.next?document.getElementById("next-button").classList.remove("disabled"):document.getElementById("next-button").classList.add("disabled"),i.previous?document.getElementById("previous-button").classList.remove("disabled"):document.getElementById("previous-button").classList.add("disabled"),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(5),alert("There was a problem with your fetch request: "+t.t0);case 24:case"end":return t.stop()}}),t,null,[[5,21]])}))),v.apply(this,arguments)}function m(){return y.apply(this,arguments)}function y(){return y=u(s().mark((function t(){var e,n,o,a,i=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!(i.length>0&&void 0!==i[0])||i[0],t.prev=1,t.next=4,fetch(r.GO,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r.Ri("access_token")}});case 4:if(400!=(n=t.sent).status&&500!=n.status){t.next=10;break}throw console.log(n.statusText,n.text()),new Error(n.statusText);case 10:if(401!=n.status){t.next=12;break}return t.abrupt("return",0);case 12:return t.next=14,n.json();case 14:if(o=t.sent,!e){t.next=21;break}return a=0,o[0].cart_item.forEach((function(t){a+=t.quantity})),t.abrupt("return",a);case 21:return t.abrupt("return",o[0].cart_item);case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(1),alert("getCart function Error: "+t.t0);case 27:case"end":return t.stop()}}),t,null,[[1,24]])}))),y.apply(this,arguments)}function b(t){return g.apply(this,arguments)}function g(){return g=u(s().mark((function t(e){var n,o,a,i=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:1,t.prev=1,t.next=4,fetch(r.GO,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r.Ri("access_token")},body:JSON.stringify({cart:[{product_id:e,quantity:n,add_to_cart:!0}]})});case 4:if(400!=(o=t.sent).status&&500!=o.status){t.next=11;break}throw o.text().then((function(t){alert(t)})),console.log(o.statusText),new Error(o.statusText);case 11:if(401!=o.status){t.next=14;break}throw window.location.replace("login.html"),new Error(o.statusText);case 14:return t.next=16,o.json();case 16:a=t.sent,console.log(a),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),alert("There was a problem with your fetch request: "+t.t0);case 23:case"end":return t.stop()}}),t,null,[[1,20]])}))),g.apply(this,arguments)}function x(t){return w.apply(this,arguments)}function w(){return(w=u(s().mark((function t(e){var n,r,a,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.innerHTML+=o.cartModal(),n=document.getElementById("cart-modal-list"),t.next=4,m(!1);case 4:r=t.sent,a=i(r);try{for(a.s();!(c=a.n()).done;)l=c.value,n.innerHTML+=o.cartItem(l)}catch(t){a.e(t)}finally{a.f()}case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}},a={};function i(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={exports:{}};return o[t](n,n.exports,i),n.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},i.a=(o,a,i)=>{var c;i&&((c=[]).d=-1);var s,l,u,d=new Set,f=o.exports,p=new Promise(((t,e)=>{u=e,l=t}));p[e]=f,p[t]=t=>(c&&t(c),d.forEach(t),p.catch((t=>{}))),o.exports=p,a((o=>{var a;s=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var a=[];a.d=0,o.then((t=>{i[e]=t,r(a)}),(t=>{i[n]=t,r(a)}));var i={};return i[t]=t=>t(a),i}}var c={};return c[t]=t=>{},c[e]=o,c})))(o);var i=()=>s.map((t=>{if(t[n])throw t[n];return t[e]})),l=new Promise((e=>{(a=()=>e(i)).r=0;var n=t=>t!==c&&!d.has(t)&&(d.add(t),t&&!t.d&&(a.r++,t.push(a)));s.map((e=>e[t](n)))}));return a.r?l:i()}),(t=>(t?u(p[n]=t):l(f),r(c)))),c&&c.d<0&&(c.d=0)},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(19)})();